@startuml
title AI Agent — HLD: Deploy → Monitor → Incident (With Explicit LLM Reasoning)

skinparam rectangle {
  BackgroundColor #FFFFFF
  BorderColor #333333
  RoundCorner 15
}

actor Developer

rectangle "Source Control" {
  [Code Repository]
}

rectangle "AI Agent" {
  [Orchestrator]
  [Cloud LLM]
}

rectangle "Deployment Target" {
  [Kubernetes Cluster]
}

rectangle "Monitoring Tools" {
  [Prometheus]
  [Grafana]
}

rectangle "Incident Tools" {
  [Jira / Slack / Email]
}

' ---- Clear flow ----

Developer --> [Code Repository] : Push Code

[Code Repository] --> [Orchestrator] : Trigger Pipeline

[Orchestrator] --> [Cloud LLM] : Pre-Deploy Reasoning\n(Should we deploy?)

[Cloud LLM] --> [Orchestrator] : Decision: Deploy or Wait

[Orchestrator] --> [Kubernetes Cluster] : Execute Deploy (IaC)

[Kubernetes Cluster] --> [Prometheus] : Expose Metrics

[Prometheus] --> [Orchestrator] : Send Metrics

[Orchestrator] --> [Cloud LLM] : Post-Deploy Analysis\n(Any Anomalies?)

[Cloud LLM] --> [Orchestrator] : Decision: Raise Incident?

[Orchestrator] --> [Jira / Slack / Email] : Create Ticket/Alert

@enduml
